jQuery(function(){function e(e){"string"!=typeof e&&(e=JSON.stringify(e));try{return JSON.parse(e),!0}catch(t){return!1}}jQuery(".dig_admin_checkbox_switch").each(function(e){jQuery(this).closest("tr").addClass("digits_checkbox_row")}),jQuery(".dig_multiselect_phone_dynamic_enable").untselect({tags:!0,tokenSeparators:[","," "],createTag:function(e){return jQuery.isNumeric(e.term)?{id:e.term,text:e.term}:null}}),jQuery(".dig_multiselect_dynamic_enable").untselect({dir:digsetobj.direction,tags:!0,tokenSeparators:[","," "],dropdownCssClass:"digits-select-dropdown digits-settings-dropdown",theme:"default digits-select digits-settings-select"}),digits_settings_select(jQuery(".digits_admim_conf").find("select").not(".dig_multiselect_dynamic_enable, .dig_ignore_untselect"));var t,i,a,n,d,r=jQuery(".dig-reg-fields").find("tbody");if(r.length){var s=jQuery("#dig_sortorder"),o=s.val().split(",");r.find("tr").sort(function(e,t){var i=jQuery.inArray(e.id,o),a=jQuery.inArray(t.id,o);return i<a?-1:i>a?1:0}).appendTo(r),r.sortable({update:function(e,t){var i=jQuery(this).sortable("toArray").toString();s.val(i),A()}})}var c=0;jQuery(".dig_sb_back");var l=jQuery(".dig_sb_head");jQuery(".dig_admin_side"),jQuery(".dig_op_wdz_btn");var g=jQuery(".dig_settings_Form"),u=jQuery(".dig_fields_options_main"),f=jQuery("#dig_purchasecode"),h=jQuery(".digits-setting_save_indicator");jQuery(".bg_color").addClass("digits_color_picker").attr({"data-alpha-enabled":"true"}).wpColorPicker(),jQuery("select[name='digit_whatsapp_gateway']").on("change",function(){var e=jQuery(this).closest(".digits_gateway_api_box");-1==jQuery(this).val()?(e.addClass("digits_gateway-disabled"),e.find(".dig_whatsapp_messagetemplate").removeAttr("required")):(e.removeClass("digits_gateway-disabled"),e.find(".dig_whatsapp_messagetemplate").attr("required","true"))}),jQuery("input[name='dig_page_type']").on("change",function(){var e=jQuery(this).attr("name"),t=jQuery("input[name='dig_page_type']:checked").val();jQuery(".dig_page_active").hide().removeClass("dig_page_active"),jQuery("."+e+"_"+t).show().addClass("dig_page_active");var i=jQuery(".dig_page_type_1_2").find("th").find("label"),a=i.attr("data-type"+t);i.text(a)}),jQuery("input[name='dig_modal_type']").on("change",function(){var e=jQuery(this).attr("name"),t=jQuery("input[name='dig_modal_type']:checked").val();jQuery(".dig_modal_active").hide().removeClass("dig_modal_active"),jQuery("."+e+"_"+t).show().addClass("dig_modal_active");var i=jQuery(".dig_modal_type_1_2").find("th").find("label"),a=i.attr("data-type"+t);i.text(a)}),jQuery(".dig_page_type_1").hide(),jQuery(".dig_page_type_2").hide(),jQuery("input[name='dig_page_type']").trigger("change"),jQuery(".dig_modal_type_1").hide(),jQuery(".dig_modal_type_2").hide(),jQuery("input[name='dig_modal_type']").trigger("change");var p=jQuery(".dig_presets_modal"),v=jQuery("#dig_presets_box");jQuery("#dig_open_preset_box").on("click",function(){v.fadeIn("fast"),ex(),g.addClass("dig_settings_blur"),jQuery("#dig_presets_list").slick({dots:!1,infinite:!0,speed:300,slidesToShow:3,centerMode:!1,variableWidth:!1,slidesToScroll:1})}),jQuery(".dig_presets_modal_head_close").on("click",function(){g.removeClass("dig_settings_blur"),p.fadeOut("fast"),eA(),hideDigMessage()});var m=jQuery(".dig-tab-wrapper");if(m.length){jQuery(".dig_admin_floating_submit").outerWidth(!0),jQuery(".dig_admin_left_side"),jQuery(window).on("load",function(){k()}),jQuery(window).on("resize",function(){k(),_()});var y=m.offset().top,b=jQuery("#wpadminbar").outerHeight(!0);function _(){var e=jQuery(window).scrollTop();y-e<=b&&jQuery(window).width()>=822?m.addClass("dig-tab-wrapper-sticky").css({top:b}):m.removeClass("dig-tab-wrapper-sticky")}function k(){}jQuery(window).on("scroll",function(){_()}),jQuery(window).trigger("scroll")}$mainNav=jQuery(".dig-tab-ul"),jQuery(document).on("click",".dig_popmessage",function(){jQuery(this).closest(".dig_popmessage").slideUp("fast",function(){jQuery(this).remove()})}),$mainNav.append("<li id='dig-tab-magic-line' style='display: none'></li>"),jQuery("#dig-tab-magic-line"),jQuery(document).on("click",".dig_big_preset_show",function(){jQuery(this).fadeOut("fast")}),jQuery(document).on("click",".dig_preset_big_img",function(){var e=jQuery(this).attr("href"),t=jQuery(".dig_big_preset_show");return t.find("img").attr("src","").attr("src",e),t.fadeIn("fast"),!1}),jQuery(".digits_admim_conf .updatetabview").on("click",function(){var e=jQuery(this).attr("tab"),t=jQuery(this).attr("acr"),i=jQuery(this).attr("refresh");if(void 0!==i&&!1!==i)return location.reload(),!0;if(ew.hasClass("menu_open")&&ew.removeClass("menu_open"),void 0!==t&&!1!==t){var a=f.attr("invalid");if(36!=f.val().length||1==a)return showDigNoticeMessage(digsetobj.plsActMessage),jQuery("#dig_activatetab").length&&(jQuery("#dig_activatetab").click(),f.focus()),!1}var n=jQuery("."+e),d=jQuery(this);return!n.hasClass("digcurrentactive")&&(n.data("attach")&&(d=jQuery("."+n.data("attach"))),jQuery(".digcurrentactive").removeClass("digcurrentactive").hide(),n.fadeIn(150).addClass("digcurrentactive"),n.offset()&&jQuery(".dig-tab-wrapper-sticky").length&&jQuery("html, body").animate({scrollTop:n.offset().top-90},220),jQuery(".dig-nav-tab-active").removeClass("dig-nav-tab-active"),jQuery(this).addClass("dig-nav-tab-active"),function e(t,i){var a=window.location.href,n=RegExp("[?|&]"+t+"=[0-9a-zA-Z_+-|.,;]*");if(n.test(a)){var n=RegExp("[?&]"+t+"=([^&#]*)"),d=n.exec(a)[0].charAt(0);a=a.replace(n,d+t+"="+i)}else{var r=t+"="+i;if(a.indexOf("?")||(a+="?"),a.indexOf("#")>-1){var s=a.split("#");a=s[0]+"&"+r+(s[1]?"#"+s[1]:"")}else a+="&"+r}window.history.pushState(null,document.title,a)}("tab",e.slice(0,-3)),!1)}),jQuery(".dig_gs_nmb_ovr_spn").find("input").on("keyup change",function(){jQuery(this).val().length,jQuery(this).parent().find("span").stop().animate({left:Math.max(51,jQuery(this).attr("dig-min"))},"fast")}).trigger("keyup");var w=!1;jQuery(".digits_admim_conf textarea,.digits_admim_conf input").on("keyup",function(){!jQuery(this).attr("readonly")&&!jQuery(this).attr("dig-save")&&(jQuery(this).closest(".digcon").length||x())}),jQuery(".digits_admim_conf input,.digits_admim_conf select,.dig_activation_form input").on("change",function(){jQuery(this).attr("readonly")||jQuery(this).attr("dig-save")||x()});var $=jQuery("#dig_purchasecode"),C=jQuery("#dig_addonstab");function x(){w||(w=!0),A()}function A(){jQuery(window).trigger("digits_admin_save"),jQuery(".dig_admin_submit").removeAttr("disabled")}function S(e){if(!e.attr("nocop")){e.select(),document.execCommand("copy");var t=e.val();e.val(digsetobj.Copiedtoclipboard),setTimeout(function(){e.val(t)},800)}}$.on("change",function(){jQuery(this).attr("readonly")||(C.length&&C.attr("refresh",1),jQuery(".customfieldsNavTab").attr("refresh",1))}),$.on("keyup",function(){jQuery(this).attr("readonly")||(36==jQuery(this).val().length||0==jQuery(this).val().length?(ew.find(".dig_prc_ver").hide(),ew.find(".dig_prc_nover").hide()):W(-1))}),jQuery(".wp-color-picker").wpColorPicker("option","change",function(e,t){x()}),jQuery(".digits_shortcode_tbs").find("input").on("click",function(){S(jQuery(this))}),jQuery(".dig_copy_shortcode").on("click",function(){var e=jQuery(this).parent().find("input");S(e)}),jQuery(".dig_drop_doc_check").each(function(e){jQuery(this).on("click",function(){var e=jQuery(this).closest("li");e.find(".dig_conf_doc").toggle();var t=e.find("h2").find(".dig_tgb");t.text("+"==t.text()?"-":"+")})}),jQuery.fn.mask&&jQuery(".digits_purchase_code").mask("AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA");var O=jQuery(".digit_gateway"),q=jQuery(".dig_load_overlay_gs");q.length;var T=0;jQuery(".dig_request_server_addition,.dig_href_button").on("click",function(){var e=jQuery(this).attr("href");window.open(e,"_target")});var I=0;jQuery(".dig_domain_type").find("button").on("click auto_update",function(e){var t=jQuery(this).attr("val");ew.find("input[name='dig_license_type']").val(t),"auto_update"!==e.type&&1!=I&&(I=0,jQuery("#dig_purchasecode").val("").removeAttr("readonly")),ew.find(".dig_prchcde").fadeIn("fast"),ew.find(".dig_domain_type").hide(),ew.find(".dig_btn_unregister").hide(),1!=t?(ew.find(".request_live_server_addition").show(),ew.find(".request_testing_server_addition").hide()):(ew.find(".request_live_server_addition").hide(),ew.find(".request_testing_server_addition").show())}),jQuery(".dig_btn_unregister").on("click",function(){R(),1!=T&&(q.find(".circle-loader").removeClass("load-complete"),q.find(".checkmark").hide());var e=f.val();jQuery.post("https://bridge.unitedover.com/updates/verify.php",{code:e,slug:"digits",request_site:encodeURIComponent(jQuery("input[name='dig_domain']").val()),license_type:jQuery("input[name='dig_license_type']").val(),addons:jQuery("input[name='dig_addons_list']").val(),unregister:1,version:jQuery("input[name='dig_version']").val(),settings:1},function(e,t){return 1==e?(jQuery(".dig_domain_type").fadeIn("fast"),jQuery(".dig_prchcde").fadeOut(),jQuery(".dig_prc_ver").fadeOut(),jQuery(".dig_prc_nover").hide(),jQuery("#dig_purchasecode").val("").removeAttr("readonly").trigger("change")):showDigErrorMessage(e),jQuery(".dig_activation_form").submit(),!1})});var P=jQuery("#digits_admin_activation");function j(){P.find("#dig_purchasecode").val().length>0&&(P.fadeOut(),jQuery(".dig_admin_dashboard_wrapper").removeClass("dig_settings_blur"))}jQuery(".digits_show_purchasecode").on("click",function(e){var t=jQuery("#digits_dashboard");return t.click(),P.fadeIn("fast"),jQuery(".dig_admin_dashboard_wrapper").addClass("dig_settings_blur"),jQuery("html, body").animate({scrollTop:t.offset().top-jQuery(window).height()/3},300),!1}),jQuery(".digits_admin_activation_modal_back_drop").on("click",function(e){return j(),!1});var F=!1,N=jQuery(".dig_activation_form");N.on("submit",function(e){e.preventDefault(),L(jQuery(this),!1,null,null)});var E=!1;z=setTimeout(function(){E=!0},450);var z=!1;jQuery(window).on("digits_admin_save",function(e){E&&(z&&clearTimeout(z),z=setTimeout(function(){z=!1,F=!1,L(N,!1,null,null)},1100))});var D="";function L(e,i,a,n){if(t=e,F)return!1;F=!0,hideDigMessage(),R();var d=t,r=f.val();return 0==r.length?(ew.find(".dig_prc_ver").hide(),ew.find(".dig_prc_nover").hide(),F=!1,U(d,-1),!1):36!=r.length?(showDigErrorMessage(digsetobj.invalidpurchasecode),ew.find(".dig_prc_ver").hide(),ew.find(".dig_prc_nover").show(),F=!1,U(d,-1),!1):D===r?(F=!1,U(d,1),ew.find(".dig_pc_notice").hide(),!1):(F=!1,ew.find(".dig_prc_ver").show(),ew.find(".dig_prc_nover").hide(),f.attr("invalid",0),D=r,ew.find(".dig_btn_unregister").show(),ew.find("#dig_purchasecode").attr("readonly",!0),q.attr("ajxsu")?ew.find(".dig_activation_form").unbind("submit").submit():(U(d,1),ew.find(".dig_pc_notice").hide()),!1)}function W(e){ew.find("#dig_purchasecode").removeAttr("readonly"),ew.find(".dig_prc_ver").hide(),ew.find(".dig_prc_nover").show(),e>0&&q.hide()}function R(){H&&clearTimeout(H),h.addClass("saving").removeClass("saved").fadeIn("fast")}window.digits_admin_submit=L;var H=!1;function M(e){var t=/\r?\n/g,i=/^(?:submit|button|image|reset|file)$/i,a=/^(?:input|select|textarea|keygen)/i;return e.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){var e=this.type;return this.name&&a.test(this.nodeName)&&!i.test(e)}).map(function(e,i){var a=jQuery(this).val();return null==a?null:jQuery.isArray(a)?jQuery.map(a,function(e,a){return{name:i.name,value:e.replace(t,"\r\n")}}):{name:i.name,value:a.replace(t,"\r\n")}}).get()}function U(e,t){F=!1,function e(){if(jQuery("#digits_usage_data_sharing").is(":checked")){var t={};jQuery(".digtabview").not(".dig_sens_data").find("input,select").not(".dig_sens_data").each(function(e){if(this.name){var i=jQuery(this),a=i.attr("type");if(!a||"checkbox"!==a&&"radio"!==a||i.is(":checked")){var n=this.name,d=this.value;t.hasOwnProperty(n)?t[n]=t[n]+","+d:t[n]=d}}}),t.sms_gateway=jQuery(".digit_gateway").val(),t.email_gateway=jQuery("#digit_email_gateway").val(),t.whatsapp_gateway=jQuery("#digit_whatsapp_gateway").val();var i,a,n=JSON.stringify(t),d="https://bridge.unitedover.com/feedback/usage/plugin.php";i=n,jQuery.ajax({type:"POST",url:d,data:{d:(a=i,btoa(unescape(encodeURIComponent(a))))}})}}(),j();var i=e.serializeArray();e.find("input:checkbox").not(".default_empty").each(function(){if(this.name){var e=0;this.checked&&(e=this.value),i.push({name:this.name,value:e})}}),i.push({name:"pca",value:t}),i.push({name:"action",value:"digits_save_settings"}),jQuery.ajax({type:"POST",url:digsetobj.ajax_url,data:i,success:function(e){q.find(".circle-loader").addClass("load-complete"),q.find(".checkmark").show(),h.addClass("saved").removeClass("saving"),H&&clearTimeout(H),H=setTimeout(function(){H=!1,h.fadeOut("fast"),w=!1,jQuery(".dig_admin_submit").attr("disabled","disabled"),1==T&&em()},2500)},error:function(){W(),showDigErrorMessage(digsetobj.Error)}})}jQuery("#digits_setting_update button[type='submit']").on("click",function(e){O.value;var t=O.find("option:selected").attr("han"),i=!1;jQuery("#dig_activatetab").hasClass("dig-nav-tab-active")&&(i=!0,jQuery(this).closest("form").trigger("submit"));var a=!1;return jQuery("."+t+"cred").find("input, textarea").each(function(){var t=jQuery(this);if(0==t.val().length){var i=t.attr("dig-optional");if(i&&1==i)return;return showDigErrorMessage(digsetobj.PleasecompleteyourAPISettings),a=!0,e.preventDefault(),!1}}),!a&&(jQuery("#digits_setting_update").find("input,textarea, select").each(function(){var t=jQuery(this),i=jQuery(this).val();if(null==i||0==i.length){if(!t.attr("required"))return;return jQuery("[tab='"+t.closest(".digtabview").attr("data-tab")+"']").trigger("click"),t.focus(),showDigErrorMessage(digsetobj.PleasecompleteyourSettings),a=!0,e.preventDefault(),!1}}),!a)}),jQuery("#is_rtl"),jQuery(document).on("click",".digits_install_additional_gateways",function(){jQuery("#dig_addonstab").trigger("click")});var J=jQuery(".dig_sb_select_field"),Z=jQuery(".dig_fields_options");jQuery(document).on("click",".dig_sb_field_types",function(){et(jQuery(this).attr("data-val"),jQuery(this).attr("data-configure_fields"),null)}),jQuery(document).on("click",".dig_sb_field_wp_wc_types",function(){var e=jQuery(this).attr("data-val"),t=jQuery(this).attr("data-configure_fields"),i=jQuery(this).attr("data-values");i=jQuery.parseJSON(i),et(e,t,i),ee=!1});var B=jQuery("#dig_custom_field_data_type"),V=jQuery("#dig_field_val_list"),X=jQuery("#dig_field_required"),Y=jQuery("#dig_field_meta_key"),G=jQuery("#dig_field_options"),K=jQuery("#dig_field_custom_class"),Q=jQuery("#dig_field_label"),ee=!1;function et(e,t,a){if(ee=!1,ef(),t=jQuery.parseJSON(t),l.text(t.name),1==t.meta_key?Y.show():Y.hide(),0==t.force_required?X.show():X.hide(),1==t.options?G.show():G.hide(),jQuery(".dig_sb_extr_fields").hide(),null!=t.slug&&jQuery(".dig_sb_field_"+t.slug).show(),null!=a){if(ee=!0,i=a.meta_key,Q.find("input").val(a.label).trigger("change"),X.find("select").val(a.required).trigger("change"),Y.find("input").val(a.meta_key).trigger("change"),K.find("input").val(a.custom_class).trigger("change"),null!=a.options){var n=a.options.toString();n=n.split(","),V.empty()}if(null!=t.slug&&jQuery(".dig_sb_field_"+t.slug).find("input,textarea").each(function(){if(jQuery(this).is(":checkbox"))-1!=jQuery.inArray(jQuery(this).val(),a.options)?jQuery(this).prop("checked",!0).trigger("update"):jQuery(this).prop("checked",!1).trigger("update");else{var e=jQuery(this).attr("name"),t=a[e];void 0!=t&&(t=(t=t.replace("/x22",'"')).replace("/x27","'"),jQuery(this).val(a[e]))}}),es.text("Save"),c=0,null!=a.options)for(var d=0;d<n.length;d++)ei(n[d])}else{var r=t.name+"_"+jQuery.now();void 0!=t.pref_label?Q.find("input").val(t.pref_label):Q.find("input").val(""),X.find("select").val(1).change(),Y.find("input").val(r.toLowerCase()),K.find("input").val(""),V.empty(),es.text("Add"),c=1,jQuery("#dig_field_roles input").prop("checked",!1).trigger("update")}B.val(e),u.show(),es.show(),J.slideUp("fast"),Z.fadeIn("fast")}function ei(e){V.append("<li></li>").find("li:last-child").text(e).append('<div class="dig_delete_opt_custf"></div>').show()}var ea=jQuery(".dig_side_bar"),en=jQuery("#dig_cus_field_footer"),ed=jQuery(".dig_admin_cancel");ed.on("click",function(e){return 1==c?(ee=!1,ef()):eh(),!1}),jQuery(".dig_sb_field_add_opt").on("click",function(){jQuery(".dig_sb_field_list_input").trigger("focusout")}),jQuery(".dig_sb_field_list_input").keypress(function(e){13==e.keyCode&&(e.preventDefault(),jQuery(this).trigger("focusout"))}),jQuery(document).on("keyup",function(e){hideDigMessage(),27==e.keyCode&&eh()});var er=jQuery(".dig_sb_field"),es=jQuery(".dig_cus_field_done");er.find("input").keydown(function(e){if(13==e.keyCode&&!jQuery(this).hasClass("dig_sb_field_list_input"))return es.click(),e.preventDefault(),!1});var eo=jQuery(".customfieldstab"),ec=jQuery("#dig_reg_custom_field_data");if(ec.length){var el=ec.val();(0==el.length||"[]"==el)&&(el="{}")}try{a=jQuery.parseJSON(el),null==es&&(a={})}catch(e8){a={}}var eg=jQuery("#dig_custom_field_table").find("tbody");function eu(e){return(e=jQuery.trim(e.replace(/\s/g,""))).toLowerCase()}function ef(){ex(),l.text(digsetobj.selectatype),c=0,J.show(),u.hide(),es.hide(),g.addClass("dig_settings_blur"),ea.fadeIn("fast",function(){Z.show(),en.show(),setTimeout(function(){jQuery("html, body").animate({scrollTop:jQuery(".digits_admin_add_field_modal_wrapper").offset().top-100},300)},20)})}function eh(){hideDigMessage(),E=!0,g.removeClass("dig_settings_blur"),jQuery(".dig_sb_field_list_input").val(""),ea.outerWidth(!0),en.hide(),ea.fadeOut("fast",function(){ea.hide()}),eA()}es.on("click",function(){var e,t=!1,n=0;if(er.each(function(){var e=jQuery(this);if(e.is(":visible")&&1==e.attr("data-req")){var i=e.attr("data-list");if(2==i){n=1;var a=e.find("input:checked");if(0==a.length)return t=digsetobj.PleasecompleteyourCustomFieldSettings,!1}else if(1==i){var a=e.find("ul");if(0==a.find("li").length)return t=digsetobj.PleasecompleteyourCustomFieldSettings,!1}else{var d=e.find("input");if(d.length>0&&0==jQuery.trim(d.val()).length)return t=digsetobj.PleasecompleteyourCustomFieldSettings,!1}}}),t)return showDigNoticeMessage(t),!1;var d,o,c,l=(o=(d=ea.find("input,select,textarea")).serializeArray(),c={},jQuery.map(o,function(e,t){var i,a=e.name,n=eo.find("[name="+a+"]");i="adv_html"===a?e.value:n.is("textarea")?(i=e.value.replace('"',"/x22")).replace("'","/x27"):e.value.replace(/<(?:.|\n)*?>/gm,""),c[a]=i}),c),g=[];if(1==n?jQuery("#dig_field_roles input").each(function(){if(jQuery(this).is(":checked")){var e=jQuery(this).val();g.push(e.replace(/<(?:.|\n)*?>/gm,""))}}):V.find("li").each(function(){var e=jQuery(this).text();g.push(e.replace(/<(?:.|\n)*?>/gm,""))}),l.options=g,l.type=B.val(),!ee&&a.hasOwnProperty(l.meta_key))return showDigNoticeMessage(digsetobj.fieldAlreadyExist),!1;try{ee?(a[i]=l,e=(e=JSON.stringify(a)).replace('"'+i+'":{','"'+l.meta_key+'":{'),a=JSON.parse(e)):(a[l.meta_key]=l,e=JSON.stringify(a))}catch(u){a={}}ec.val(e),eh();var f='<tr id="dig_cs_'+eu(l.meta_key)+'" class="dig_field_type_'+l.type.toLowerCase()+'" dig-lab="'+eu(l.meta_key)+'">\n            <th scope="row"><label>'+l.label+' </label></th>\n            <td>\n                <div class="dig_custom_field_list">\n                   <span>'+function e(t){switch(t){case"0":return digsetobj.string_optional;case"1":return digsetobj.string_required;default:return null}}(l.required)+'</span>                    <div class="dig_icon_customfield">\n                        <div class="icon-shape icon-shape-dims dig_cust_field_delete"></div>\n                        <div class="icon-drag icon-drag-dims dig_cust_field_drag"></div>\n                        <div class="icon-gear icon-gear-dims dig_cust_field_setting"></div>\n                    </div>\n                </div>\n            </td>\n        </tr>';ee?jQuery("#dig_cs_"+eu(i.replace(/[\*\^\'!]/g,""))).replaceWith(f):eg.append(f),x();var h=r.sortable("toArray").toString();s.val(h)}),jQuery(document).on("click",".dig_cust_field_setting",function(){var e=jQuery(this).closest("tr").attr("dig-lab"),t=a[e].type;et(t,jQuery("#dig_cust_list_type_"+t).attr("data-configure_fields"),a[e])}),jQuery(document).on("click",".dig_delete_opt_custf",function(){jQuery(this).closest("li").remove()}),jQuery(document).on("click",".dig_cust_field_delete",function(){var e=jQuery(this).closest("tr"),t=e.attr("dig-lab");e.slideUp().remove(),delete a[t],ec.val(JSON.stringify(a));var i=r.sortable("toArray").toString();s.val(i),x()}),jQuery(".dig_hide_modal, .dig_addons_pop").on("click",function(){jQuery(".dig-addon-box").fadeOut("fast",function(){jQuery(this).remove()}),jQuery("body").css("overflow","auto")}),jQuery("#dig_add_new_reg_field").on("click",function(){E=!1,ea.is(":visible")&&!ee?ed.trigger("click"):(ee=!1,ef())});var ep=document.getElementById("dig_field_val_list");ep&&Sortable.create(ep),jQuery(".dig_sb_field_list_input").focusout(function(){hideDigMessage();var e=jQuery(this).val(),t=!1;e.length>0&&(V.find("li").each(function(){if(jQuery(this).text()==e)return t=!0,!1}),t?showDigNoticeMessage(digsetobj.duplicateValue):(ei(e),jQuery(this).val(""),ea.scrollTop(ea[0].scrollHeight)))});var ev=jQuery(".dig_load_overlay").first();function em(){if(1==T){var e,t=n.find(".digcon"),i=t.find(".mobile").val(),a=t.find(".dig_wc_logincountrycode").val(),d=n.closest(".dig_gateway_box"),r=0,s=n.find(".user_email"),o="";s.length?(o=s.val(),e=jQuery("#digit_email_gateway").val()):e=d.length?d.find(".digit_gateway").val():jQuery(".digit_gateway").val(),n.closest(".dig_whatsapp_api_box").length&&(r=1),T=0,jQuery.ajax({type:"post",async:!0,url:digsetobj.ajax_url,data:{action:"digits_test_api",digt_mobile:i,gateway:e,digt_countrycode:a,whatsapp:r,email:o},success:function(e){ey(e)},error:function(e){ey(e)}})}}function ey(e){T=0,n.find(".dig_call_test_response").show(),n.find(".dig_call_test_response_msg").text(e),ev.hide()}jQuery(document).on("click",".dig_call_test_api_btn",function(){var e=(n=jQuery(this).closest(".dig_api_test")).find(".digcon"),t=e.find(".mobile");if(t.length){var i=t.val(),a=e.find(".dig_wc_logincountrycode").val();if(0==i.length||!jQuery.isNumeric(i)||0==a.length||!jQuery.isNumeric(a))return showDigNoticeMessage(digsetobj.validnumber),!1}T=1,ev.show(),jQuery(".dig_admin_submit").attr("disabled")?em():jQuery(".dig_activation_form").trigger("submit")}),jQuery("#digpassaccep").on("change",function(){0==this.value?jQuery(".enabledisableforgotpasswordrow").hide():jQuery(".enabledisableforgotpasswordrow").show()});var eb=jQuery("#digits_hidecountrycode");jQuery(".whitelistcountrycodeslist").on("change",function(){1==jQuery(this).find("option:selected").length?eb.slideDown("fast"):eb.slideUp("fast").find('input[type="checkbox"]').prop("checked",!1).trigger("change")}),O.on("change",function(){var e=jQuery(this).val();if(e&&null!=e){var t=jQuery(this).parent(),i=t.find("option:selected"),a=i.attr("han"),n=jQuery(this).closest(".digits_gateway_api_box");1==i.data("addon")?n.find(".require_addon_text").show():n.find(".require_addon_text").hide(),a=a.replace(".","_"),n.find(".dig_call_test_response").hide(),1==e||13==e||-1==e?(n.find(".dig_api_test").hide(),13==e&&jQuery(".disotp").hide(),n.find(".dig_current_gateway").hide()):(900!=e?n.find(".dig_current_gateway").show().find("span").text(t.find("option:selected").text()):n.find(".dig_current_gateway").hide(),n.find(".dig_api_test").show(),jQuery(".disotp").show()),O.find("option").each(function(e,t){var i=jQuery(this).attr("han");i!=a&&n.find("."+i+"cred").each(function(){jQuery(this).hide().find("input").removeAttr("required")})}),n.find("."+a+"cred").each(function(){var e=jQuery(this).show().find("input"),t=e.attr("dig-optional");t&&1==t||e.attr("required","required")})}}),w=!0,O.trigger("change"),w=!1;var e_=jQuery("#dig_export_import_content"),ek=jQuery(".dig_export_import_values"),ew=jQuery("#digits_setting_update"),e$=0;jQuery("#digits_configuration_export").on("click",function(){var e=jQuery(this).text(),t=[];ev.show(),ew.find("input, select, textarea").each(function(){e$=1;var e=jQuery(this);if(1!==e.closest(".activatetab").length){var i={};i.name=e.attr("name"),i.value=e.val(),t.push(i)}});var i=JSON.stringify(t),a=eC.encode(function e(t){t||(t=""),t="undefined"==t||"null"==t?"":t;try{var i=0;for(ostr="";i<t.length;)ostr+=String.fromCharCode(146^t.charCodeAt(i)),i+=1;return ostr}catch(a){return""}}(i));ev.hide(),e_.fadeIn("fast"),e_.find(".modal_head").text(e),ex(),g.addClass("dig_settings_blur");var n=e_.find("button");n.text(n.attr("attr-export")),ek.val(a).attr("readonly",!0).select(),document.execCommand("copy")}),jQuery("#digits_configuration_import").on("click",function(){e$=2;var e=jQuery(this).text();e_.fadeIn("fast"),e_.find(".modal_head").text(e);var t=e_.find("button");ek.removeAttr("readonly").val(""),ex(),t.text(e),g.addClass("dig_settings_blur")}),jQuery(".imp_exp_btn_fn").on("click",function(){if(1==e$)S(ek);else{var e=function e(t){t||(t=""),t="undefined"==t||"null"==t?"":t;try{var i=0;for(ostr="";i<t.length;)ostr+=String.fromCharCode(146^t.charCodeAt(i)),i+=1;return ostr}catch(a){return""}}(eC.decode(ek.val()));try{var t=JSON.parse(e);jQuery.each(t,function(e,t){var i=ew.find('[name="'+t.name+'"]');i.length>0&&i.val(t.value).trigger("change")}),jQuery(".imp_exp_cancel").trigger("click"),jQuery(".dig_activation_form").trigger("submit")}catch(i){showDigErrorMessage(digsetobj.invalidimportcode)}}});var eC={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,i,a,n,d,r,s,o="",c=0;for(e=eC._utf8_encode(e);c<e.length;)t=e.charCodeAt(c++),i=e.charCodeAt(c++),a=e.charCodeAt(c++),n=t>>2,d=(3&t)<<4|i>>4,r=(15&i)<<2|a>>6,s=63&a,isNaN(i)?r=s=64:isNaN(a)&&(s=64),o=o+eC._keyStr.charAt(n)+eC._keyStr.charAt(d)+eC._keyStr.charAt(r)+eC._keyStr.charAt(s);return o},decode:function(e){var t,i,a,n,d,r,s,o="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)n=eC._keyStr.indexOf(e.charAt(c++)),d=eC._keyStr.indexOf(e.charAt(c++)),r=eC._keyStr.indexOf(e.charAt(c++)),s=eC._keyStr.indexOf(e.charAt(c++)),t=n<<2|d>>4,i=(15&d)<<4|r>>2,a=(3&r)<<6|s,o+=String.fromCharCode(t),64!=r&&(o+=String.fromCharCode(i)),64!=s&&(o+=String.fromCharCode(a));return eC._utf8_decode(o)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t},_utf8_decode:function(e){for(var t="",i=0,a=c1=c2=0;i<e.length;)(a=e.charCodeAt(i))<128?(t+=String.fromCharCode(a),i++):a>191&&a<224?(t+=String.fromCharCode((31&a)<<6|63&(c2=e.charCodeAt(i+1))),i+=2):(t+=String.fromCharCode((15&a)<<12|(63&(c2=e.charCodeAt(i+1)))<<6|63&(c3=e.charCodeAt(i+2))),i+=3);return t}};function ex(){$html=jQuery("html");var e=($body=jQuery("body")).outerWidth(),t=$body.outerHeight(),i=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop];$html.data("scroll-position",i),$html.data("previous-overflow",$html.css("overflow")),$html.css("overflow","hidden"),window.scrollTo(i[0],i[1]);var a=$body.outerWidth()-e,n=$body.outerHeight()-t;$body.css({"margin-right":a,"margin-bottom":n})}function eA(){$html=jQuery("html"),$body=jQuery("body"),$html.css("overflow","auto");var e=$html.data("scroll-position");window.scrollTo(e[0],e[1]),$body.css({"margin-right":0,"margin-bottom":0})}var e0=jQuery("#enable_createcustomeronorder");if(e0.length){function eS(e){1==e?jQuery(".dig-ccor").each(function(e){jQuery(this).fadeIn()}):jQuery(".dig-ccor").each(function(e){jQuery(this).fadeOut()})}eS(e0.val()),e0.on("change",function(){eS(this.value)})}function eO(e){e.removeClass("dig_updating")}function eq(e){location.reload()}jQuery(".digmodifyaddon").on("click",function(e){var t=jQuery(this);d=t;var i,a,n,r,s,o=1;ev.show(),i=t.attr("type"),n=(a=t.closest(".dig-addon-item")).attr("data-plugin"),r=a.find(".dig_addon_nounce").val(),s=a.find(".dig_plugin_slug").val(),o=1,a.hasClass("dig-addon-item_purchased")&&(o=0),10==i&&t.addClass("dig_updating");var c={};c.nounce=r,c.type=i,c.plugin=n,c.slug=s,c.is_new=o,e4(jQuery(this),c,e,eq,eO)});var e1=!1;function e4(e,t,i,a,n){if(hideDigMessage(),wp.updates.shouldRequestFilesystemCredentials&&!1===wp.updates.filesystemCredentials.available){wp.updates.maybeRequestFilesystemCredentials(i),n(e);return}var d,r,s,o,c,t=Object.assign((d=jQuery("#hostname").val(),r=jQuery("#username").val(),s=jQuery("#password").val(),o=jQuery('input[name="connection_type"]:checked').val(),c=jQuery("#_fs_nonce").val(),{_ajax_nonce:wp.updates.ajaxNonce,_fs_nonce:c,hostname:d,username:r,password:s,connection_type:o}),t);return t.action="dig_modify_addon",jQuery.ajax({type:"POST",url:digsetobj.ajax_url,data:t,success:function(t){!0===t.success?a(e):(n(e),e1=!1,ev.hide(),wp.updates.shouldRequestFilesystemCredentials?(wp.updates.filesystemCredentials.available=!1,wp.updates.maybeRequestFilesystemCredentials(i),wp.updates.showErrorInCredentialsForm(t.data.errorMessage)):showDigErrorMessage(t.data.errorMessage))},error:function(){n(e),ev.hide(),showDigErrorMessage(digsetobj.Error)}}),!1}window.digits_install_addon=e4,jQuery("#upgrade").on("click",function(e){ev.show(),setTimeout(function(){ev.hide(),d.trigger("click")},100)}),jQuery("#digits-update").find("p").each(function(){jQuery(this).find(".thickbox").attr({href:"https://digits.unitedover.com/changelog",target:"_blank",class:""})}),jQuery(document).on("change update",".digits_admim_conf .dig_admin_switch input",function(){var e=jQuery(this).attr("name");if(jQuery(this).hasClass("multi_checkbox")){var t=jQuery("."+e+"_off");!0===jQuery(this).prop("checked")?(jQuery(this).parent().addClass("checked"),t.prop("checked",!1)):(jQuery(this).parent().removeClass("checked").prop("checked",!0),t.prop("checked",!0))}else!0===jQuery(this).prop("checked")?jQuery(this).parent().addClass("checked").prop("checked",!0):jQuery(this).parent().removeClass("checked").prop("checked",!1)}),jQuery(document).on("click",".digits_admim_conf .dig_admin_checkbox",function(){var e=jQuery(this).find("input");e.prop("checked",!e.prop("checked")).trigger("change")});var eT=!1;jQuery(".digits_admin_mobile_menu").on("click",function(e){eT=ew.hasClass("menu_open"),ew.toggleClass("menu_open"),ew.find(".dig_admin_left_side").scrollTop(0)})});function digits_settings_select(e){e.each(function(){var e=jQuery(this),t=e.parent(),i={dir:digsetobj.direction,minimumResultsForSearch:8,dropdownParent:t,dropdownCssClass:"digits-select-dropdown digits-settings-dropdown",theme:"default digits-select digits-settings-select"};e.data("source")&&(i.minimumInputLength=0,i.ajax={url:digsetobj.ajax_url,dataType:"json",delay:50,cache:!0,data:function(e){return{search:e.term,action:jQuery(this).data("source"),nonce:jQuery(this).data("nonce")}}}),e.attr("placeholder")&&(i.placeholder=e.attr("placeholder")),e.untselect(i)})}